{
  "accountId": "873830691776",
  "fragment": {
      "AWSTemplateFormatVersion": "2010-09-09",
      "Resources": {
          "Function": {
              "Type": "AWS::Lambda::Function",
              "Properties": {
                  "Code": {
                      "S3Bucket": "aws-sam-cli-managed-default-samclisourcebucket-1r7iyarib6oy8",
                      "S3Key": "sfn-yaml-macro-test/ae3af60093b3f9e554c60c14cdc77c28"
                  },
                  "Tags": [
                      {
                          "Value": "SAM",
                          "Key": "lambda:createdBy"
                      }
                  ],
                  "Handler": "app.handler",
                  "Role": {
                      "Fn::GetAtt": [
                          "FunctionRole",
                          "Arn"
                      ]
                  },
                  "Timeout": 10,
                  "Runtime": "python3.6"
              }
          },
          "MyStateMachine": {
              "Type": "AWS::StepFunctions::StateMachine",
              "Properties": {
                  "RoleArn": {
                      "Fn::GetAtt": [
                          "ExecutionRole",
                          "Arn"
                      ]
                  },
                  "DefinitionString": {
                      "Comment": "Parallel Example.",
                      "States": {
                          "LookupCustomerInfo": {
                              "Branches": [
                                  {
                                      "States": {
                                          "LookupAddress": {
                                              "Type": "Task",
                                              "End": true,
                                              "Resource": {
                                                  "Fn::GetAtt": [
                                                      "Function",
                                                      "Arn"
                                                  ]
                                              }
                                          }
                                      },
                                      "StartAt": "LookupAddress"
                                  },
                                  {
                                      "States": {
                                          "LookupPhone": {
                                              "Type": "Task",
                                              "End": true,
                                              "Resource": {
                                                  "Fn::GetAtt": [
                                                      "Function",
                                                      "Arn"
                                                  ]
                                              }
                                          }
                                      },
                                      "StartAt": "LookupPhone"
                                  }
                              ],
                              "Type": "Parallel",
                              "End": true
                          }
                      },
                      "StartAt": "LookupCustomerInfo"
                  }
              }
          },
          "FunctionRole": {
              "Type": "AWS::IAM::Role",
              "Properties": {
                  "ManagedPolicyArns": [
                      "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                  ],
                  "AssumeRolePolicyDocument": {
                      "Version": "2012-10-17",
                      "Statement": [
                          {
                              "Action": [
                                  "sts:AssumeRole"
                              ],
                              "Effect": "Allow",
                              "Principal": {
                                  "Service": [
                                      "lambda.amazonaws.com"
                                  ]
                              }
                          }
                      ]
                  }
              }
          },
          "ExecutionRole": {
              "Type": "AWS::IAM::Role",
              "Properties": {
                  "Policies": [
                      {
                          "PolicyName": "executionrole",
                          "PolicyDocument": {
                              "Version": "2012-10-17",
                              "Statement": [
                                  {
                                      "Action": "*",
                                      "Resource": "*",
                                      "Effect": "Allow"
                                  }
                              ]
                          }
                      }
                  ],
                  "AssumeRolePolicyDocument": {
                      "Version": "2012-10-17",
                      "Statement": [
                          {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                  "Service": "states.amazonaws.com"
                              }
                          }
                      ]
                  }
              }
          }
      }
  },
  "transformId": "873830691776::SFNYAML",
  "requestId": "4b00b599-3702-4f53-8d67-90705adc00a7",
  "region": "us-east-1",
  "params": {},
  "templateParameterValues": {}
}